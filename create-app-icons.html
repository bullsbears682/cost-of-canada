<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MapleMetrics Icon Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .icon-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .icon-size {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        canvas {
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .download-btn {
            background: #1e40af;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }
        .download-btn:hover {
            background: #1e3a8a;
        }
        .controls {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .color-input {
            width: 50px;
            height: 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>MapleMetrics App Icon Generator</h1>
    <p>Simple, clean icons for your Android app</p>

    <div class="controls">
        <h3>Customize Your Icon</h3>
        <label>Background Color: <input type="color" id="bgColor" value="#1e40af" class="color-input"></label><br><br>
        <label>Text Color: <input type="color" id="textColor" value="#ffffff" class="color-input"></label><br><br>
        <label>Show Maple Leaf: <input type="checkbox" id="showMaple" checked></label><br><br>
        <button onclick="generateIcons()" class="download-btn">Generate Icons</button>
    </div>

    <div class="icon-preview" id="iconPreview">
        <!-- Icons will be generated here -->
    </div>

    <script>
        const sizes = [
            { name: 'Play Store', size: 512, filename: 'ic_launcher-playstore.png' },
            { name: 'XXXHDPI', size: 192, filename: 'mipmap-xxxhdpi/ic_launcher.png' },
            { name: 'XXHDPI', size: 144, filename: 'mipmap-xxhdpi/ic_launcher.png' },
            { name: 'XHDPI', size: 96, filename: 'mipmap-xhdpi/ic_launcher.png' },
            { name: 'HDPI', size: 72, filename: 'mipmap-hdpi/ic_launcher.png' },
            { name: 'MDPI', size: 48, filename: 'mipmap-mdpi/ic_launcher.png' }
        ];

        function drawIcon(canvas, size, bgColor, textColor, showMaple) {
            const ctx = canvas.getContext('2d');
            canvas.width = size;
            canvas.height = size;

            // Clear canvas
            ctx.clearRect(0, 0, size, size);

            // Background
            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, size, size);

            // Border radius effect (rounded corners)
            ctx.globalCompositeOperation = 'destination-in';
            ctx.beginPath();
            const radius = size * 0.2;
            ctx.roundRect(0, 0, size, size, radius);
            ctx.fill();
            ctx.globalCompositeOperation = 'source-over';

            if (showMaple) {
                // Simple maple leaf shape
                ctx.fillStyle = textColor;
                ctx.beginPath();
                
                const centerX = size / 2;
                const centerY = size / 2;
                const leafSize = size * 0.3;
                
                // Simple leaf shape (triangle-like)
                ctx.moveTo(centerX, centerY - leafSize);
                ctx.lineTo(centerX - leafSize * 0.8, centerY);
                ctx.lineTo(centerX - leafSize * 0.3, centerY + leafSize * 0.3);
                ctx.lineTo(centerX, centerY + leafSize * 0.8);
                ctx.lineTo(centerX + leafSize * 0.3, centerY + leafSize * 0.3);
                ctx.lineTo(centerX + leafSize * 0.8, centerY);
                ctx.closePath();
                ctx.fill();

                // Stem
                ctx.fillRect(centerX - size * 0.02, centerY + leafSize * 0.3, size * 0.04, leafSize * 0.5);
            }

            // Text "MM" 
            ctx.fillStyle = textColor;
            ctx.font = `bold ${size * 0.25}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            const textY = showMaple ? centerY + size * 0.35 : centerY;
            ctx.fillText('MM', centerX, textY);
        }

        function generateIcons() {
            const bgColor = document.getElementById('bgColor').value;
            const textColor = document.getElementById('textColor').value;
            const showMaple = document.getElementById('showMaple').checked;
            
            const preview = document.getElementById('iconPreview');
            preview.innerHTML = '';

            sizes.forEach(sizeInfo => {
                const container = document.createElement('div');
                container.className = 'icon-size';

                const canvas = document.createElement('canvas');
                drawIcon(canvas, sizeInfo.size, bgColor, textColor, showMaple);

                const label = document.createElement('div');
                label.textContent = `${sizeInfo.name} (${sizeInfo.size}x${sizeInfo.size})`;
                label.style.fontWeight = 'bold';
                label.style.marginBottom = '10px';

                const filename = document.createElement('div');
                filename.textContent = sizeInfo.filename;
                filename.style.fontSize = '12px';
                filename.style.color = '#666';
                filename.style.marginBottom = '10px';

                const downloadBtn = document.createElement('button');
                downloadBtn.textContent = 'Download';
                downloadBtn.className = 'download-btn';
                downloadBtn.onclick = () => downloadIcon(canvas, sizeInfo.filename);

                container.appendChild(label);
                container.appendChild(filename);
                container.appendChild(canvas);
                container.appendChild(downloadBtn);
                preview.appendChild(container);
            });
        }

        function downloadIcon(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename.split('/').pop(); // Get just the filename
            link.href = canvas.toDataURL();
            link.click();
        }

        // Add roundRect support for older browsers
        if (!CanvasRenderingContext2D.prototype.roundRect) {
            CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
                this.moveTo(x + radius, y);
                this.lineTo(x + width - radius, y);
                this.quadraticCurveTo(x + width, y, x + width, y + radius);
                this.lineTo(x + width, y + height - radius);
                this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
                this.lineTo(x + radius, y + height);
                this.quadraticCurveTo(x, y + height, x, y + height - radius);
                this.lineTo(x, y + radius);
                this.quadraticCurveTo(x, y, x + radius, y);
                this.closePath();
            };
        }

        // Generate initial icons
        generateIcons();
    </script>
</body>
</html>